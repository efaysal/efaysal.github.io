<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href="../build/nv.d3.css" rel="stylesheet" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.2/d3.min.js" charset="utf-8"></script>
    <script src="../build/nv.d3.js"></script>

    <style>
        text {
            font: 12px sans-serif;
        }
        svg {
            display: block;
        }
        html, body, #test1, svg {
            margin: 0px;
            padding: 0px;
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body>

<div id="test1" class='with-3d-shadow with-transitions'>
    <svg></svg>
</div>

<script>

var datax=[{"Name":"Advertising","Mmean":-0.00839923756,"Hmean":-0.00839923756,"MPmean":119.325121176471,"HPmean":119.325121176471,"STOCKN":28},{"Name":"Aerospace","Mmean":-0.0152639916,"Hmean":-0.0152639916,"MPmean":109.116302352941,"HPmean":109.116302352941,"STOCKN":15},{"Name":"Agricultural_Chemicals","Mmean":-0.01544062851,"Hmean":-0.01544062851,"MPmean":101.382069411765,"HPmean":101.382069411765,"STOCKN":16},{"Name":"Air_Freight/Delivery_Services","Mmean":-0.01041194496,"Hmean":-0.01041194496,"MPmean":125.842343529412,"HPmean":125.842343529412,"STOCKN":22},{"Name":"Apparel","Mmean":-0.00841973393,"Hmean":-0.00841973393,"MPmean":115.353642352941,"HPmean":115.353642352941,"STOCKN":33},{"Name":"Auto_Manufacturing","Mmean":-0.0303248207,"Hmean":-0.0303248207,"MPmean":105.907642352941,"HPmean":105.907642352941,"STOCKN":17},{"Name":"Automotive_Aftermarket","Mmean":-0.03455493075,"Hmean":-0.03455493075,"MPmean":76.0180482352941,"HPmean":76.0180482352941,"STOCKN":24},{"Name":"Auto_Parts:O.E.M.","Mmean":-0.0289363584,"Hmean":-0.0289363584,"MPmean":98.1896988235294,"HPmean":98.1896988235294,"STOCKN":38},{"Name":"Banks","Mmean":-0.00595389798,"Hmean":-0.00595389798,"MPmean":100.387067058824,"HPmean":100.387067058824,"STOCKN":25},{"Name":"Biotechnology:_Commercial_Physical_&_Biological_Resarch","Mmean":-0.01828720066,"Hmean":-0.01828720066,"MPmean":98.4058105882353,"HPmean":98.4058105882353,"STOCKN":24},{"Name":"Biotechnology:_Electromedical_&_Electrotherapeutic_Apparatus","Mmean":-0.0157705412,"Hmean":-0.0157705412,"MPmean":100.746427058824,"HPmean":100.746427058824,"STOCKN":36},{"Name":"Biotechnology:_In_Vitro_&_In_Vivo_Diagnostic_Substances","Mmean":-0.020445699287,"Hmean":-0.020445699287,"MPmean":94.4562741176471,"HPmean":94.4562741176471,"STOCKN":21},{"Name":"Biotechnology:_Laboratory_Analytical_Instruments","Mmean":-0.0052274382,"Hmean":-0.0052274382,"MPmean":120.77628,"HPmean":120.77628,"STOCKN":21},{"Name":"Broadcasting","Mmean":-0.0289965738,"Hmean":-0.0289965738,"MPmean":91.9040929411765,"HPmean":91.9040929411765,"STOCKN":29},{"Name":"Building_Materials","Mmean":-0.0181177242,"Hmean":-0.0181177242,"MPmean":127.56998,"HPmean":127.56998,"STOCKN":14},{"Name":"Building_Products","Mmean":-0.0097468261,"Hmean":-0.0097468261,"MPmean":118.038829411765,"HPmean":118.038829411765,"STOCKN":12},{"Name":"Business_Services","Mmean":-0.0183478234,"Hmean":-0.0183478234,"MPmean":98.1305764705882,"HPmean":98.1305764705882,"STOCKN":132},{"Name":"Catalog/Specialty_Distribution","Mmean":-0.0218507511,"Hmean":-0.0218507511,"MPmean":106.213981176471,"HPmean":106.213981176471,"STOCKN":18},{"Name":"Clothing/Shoe/Accessory_Stores","Mmean":0.003235053794,"Hmean":0.003235053794,"MPmean":122.692395294118,"HPmean":122.692395294118,"STOCKN":38},{"Name":"Coal_Mining","Mmean":-0.02877459962,"Hmean":-0.02877459962,"MPmean":125.439836705882,"HPmean":125.439836705882,"STOCKN":12},{"Name":"Commercial_Banks","Mmean":-0.00477465153,"Hmean":-0.00477465153,"MPmean":115.424529411765,"HPmean":115.424529411765,"STOCKN":46},{"Name":"Computer_Communications_Equipment","Mmean":-0.02051846603,"Hmean":-0.02051846603,"MPmean":98.7054847058824,"HPmean":98.7054847058824,"STOCKN":18},{"Name":"Computer_Manufacturing","Mmean":-0.0187064063409,"Hmean":-0.0187064063409,"MPmean":112.105174117647,"HPmean":112.105174117647,"STOCKN":14},{"Name":"Computer_peripheral_equipment","Mmean":-0.04186683962,"Hmean":-0.04186683962,"MPmean":84.9591011764706,"HPmean":84.9591011764706,"STOCKN":18},{"Name":"Computer_Software:_Prepackaged_Software","Mmean":-0.0253261065,"Hmean":-0.0253261065,"MPmean":100.909497647059,"HPmean":100.909497647059,"STOCKN":140},{"Name":"Computer_Software:_Programming__Data_Processing","Mmean":-0.02123041541,"Hmean":-0.02123041541,"MPmean":98.5269341176471,"HPmean":98.5269341176471,"STOCKN":40},{"Name":"Construction/Ag_Equipment/Trucks","Mmean":-0.0121516535,"Hmean":-0.0121516535,"MPmean":124.293345882353,"HPmean":124.293345882353,"STOCKN":13},{"Name":"Consumer_Electronics/Appliances","Mmean":-0.01089823364,"Hmean":-0.01089823364,"MPmean":132.341388235294,"HPmean":132.341388235294,"STOCKN":16},{"Name":"Consumer_Specialties","Mmean":-0.03346976129,"Hmean":-0.03346976129,"MPmean":87.6072141176471,"HPmean":87.6072141176471,"STOCKN":12},{"Name":"Containers/Packaging","Mmean":-0.0090399921,"Hmean":-0.0090399921,"MPmean":117.789996470588,"HPmean":117.789996470588,"STOCKN":21},{"Name":"Department/Specialty_Retail_Stores","Mmean":-0.000558092236,"Hmean":-0.000558092236,"MPmean":119.22234,"HPmean":119.22234,"STOCKN":22},{"Name":"Diversified_Commercial_Services","Mmean":-0.0269322998,"Hmean":-0.0269322998,"MPmean":99.9006623529412,"HPmean":99.9006623529412,"STOCKN":31},{"Name":"EDP_Services","Mmean":-0.02010258742,"Hmean":-0.02010258742,"MPmean":99.4530070588235,"HPmean":99.4530070588235,"STOCKN":130},{"Name":"Electrical_Products","Mmean":-0.01397928,"Hmean":-0.01397928,"MPmean":113.280478823529,"HPmean":113.280478823529,"STOCKN":54},{"Name":"Electric_Utilities:_Central","Mmean":0.0127566079963,"Hmean":0.0127566079963,"MPmean":131.681142352941,"HPmean":131.681142352941,"STOCKN":78},{"Name":"Electronic_Components","Mmean":-0.02121651339,"Hmean":-0.02121651339,"MPmean":93.7000564705882,"HPmean":93.7000564705882,"STOCKN":32},{"Name":"Engineering_&_Construction","Mmean":-0.0169707381,"Hmean":-0.0169707381,"MPmean":108.694056470588,"HPmean":108.694056470588,"STOCKN":14},{"Name":"Environmental_Services","Mmean":0.00429515642,"Hmean":0.00429515642,"MPmean":131.200195294118,"HPmean":131.200195294118,"STOCKN":13},{"Name":"Farming/Seeds/Milling","Mmean":-0.00848131375,"Hmean":-0.00848131375,"MPmean":113.723564705882,"HPmean":113.723564705882,"STOCKN":28},{"Name":"Finance:_Consumer_Services","Mmean":-0.01933978262,"Hmean":-0.01933978262,"MPmean":95.7554729411765,"HPmean":95.7554729411765,"STOCKN":75},{"Name":"Food_Chains","Mmean":-0.0125643056524,"Hmean":-0.0125643056524,"MPmean":102.622729411765,"HPmean":102.622729411765,"STOCKN":18},{"Name":"Food_Distributors","Mmean":-0.00180932874,"Hmean":-0.00180932874,"MPmean":123.793377647059,"HPmean":123.793377647059,"STOCKN":13},{"Name":"Forest_Products","Mmean":-0.01988204922,"Hmean":-0.01988204922,"MPmean":123.119535294118,"HPmean":123.119535294118,"STOCKN":11},{"Name":"GLOBALHFs","Mmean":-0.01629922864,"Hmean":-0.01629922864,"MPmean":103.153828235294,"HPmean":103.153828235294,"STOCKN":4861},{"Name":"Homebuilding","Mmean":-0.0146510185,"Hmean":-0.0146510185,"MPmean":116.839342352941,"HPmean":116.839342352941,"STOCKN":35},{"Name":"Home_Furnishings","Mmean":-0.02410940977,"Hmean":-0.02410940977,"MPmean":100.963382352941,"HPmean":100.963382352941,"STOCKN":26},{"Name":"Hospital/Nursing_Management","Mmean":-0.01813154925,"Hmean":-0.01813154925,"MPmean":110.573274117647,"HPmean":110.573274117647,"STOCKN":32},{"Name":"Hotels/Resorts","Mmean":-0.0142754548,"Hmean":-0.0142754548,"MPmean":122.741090588235,"HPmean":122.741090588235,"STOCKN":36},{"Name":"Industrial_Machinery/Components","Mmean":-0.01439331313,"Hmean":-0.01439331313,"MPmean":111.147424705882,"HPmean":111.147424705882,"STOCKN":168},{"Name":"Industrial_Specialties","Mmean":-0.01484368389,"Hmean":-0.01484368389,"MPmean":124.47876,"HPmean":124.47876,"STOCKN":48},{"Name":"Integrated_oil_Companies","Mmean":-0.03934063923,"Hmean":-0.03934063923,"MPmean":83.5176082352941,"HPmean":83.5176082352941,"STOCKN":28},{"Name":"Investment_Bankers/Brokers/Service","Mmean":-0.02189991024,"Hmean":-0.02189991024,"MPmean":96.0946694117647,"HPmean":96.0946694117647,"STOCKN":70},{"Name":"Investment_Managers","Mmean":-0.0359817502,"Hmean":-0.0359817502,"MPmean":84.77892,"HPmean":84.77892,"STOCKN":41},{"Name":"Life_Insurance","Mmean":-0.02417075898,"Hmean":-0.02417075898,"MPmean":88.1346788235294,"HPmean":88.1346788235294,"STOCKN":36},{"Name":"Major_Banks","Mmean":-0.01625336246,"Hmean":-0.01625336246,"MPmean":93.4341047058823,"HPmean":93.4341047058823,"STOCKN":352},{"Name":"Major_Chemicals","Mmean":-0.01878351373,"Hmean":-0.01878351373,"MPmean":111.835811764706,"HPmean":111.835811764706,"STOCKN":69},{"Name":"Major_Pharmaceuticals","Mmean":-0.042059517004,"Hmean":-0.042059517004,"MPmean":78.7401718823529,"HPmean":78.7401718823529,"STOCKN":369},{"Name":"Marine_Transportation","Mmean":-0.02721073393,"Hmean":-0.02721073393,"MPmean":105.77304,"HPmean":105.77304,"STOCKN":75},{"Name":"Medical/Dental_Instruments","Mmean":-0.0115384194,"Hmean":-0.0115384194,"MPmean":113.364114117647,"HPmean":113.364114117647,"STOCKN":95},{"Name":"Medical/Nursing_Services","Mmean":-0.0168169708855,"Hmean":-0.0168169708855,"MPmean":97.5514811764706,"HPmean":97.5514811764706,"STOCKN":23},{"Name":"Medical_Specialities","Mmean":-0.00061010971,"Hmean":-0.00061010971,"MPmean":118.6623,"HPmean":118.6623,"STOCKN":39},{"Name":"Metal_Fabrications","Mmean":-0.01809762481,"Hmean":-0.01809762481,"MPmean":119.944835294118,"HPmean":119.944835294118,"STOCKN":62},{"Name":"Military/Government/Technical","Mmean":-0.0118780891,"Hmean":-0.0118780891,"MPmean":113.726831764706,"HPmean":113.726831764706,"STOCKN":37},{"Name":"Miscellaneous","Mmean":-0.006809379581,"Hmean":-0.006809379581,"MPmean":129.798316470588,"HPmean":129.798316470588,"STOCKN":4},{"Name":"Miscellaneous_manufacturing_industries","Mmean":-0.001071409825,"Hmean":-0.001071409825,"MPmean":113.177630588235,"HPmean":113.177630588235,"STOCKN":7},{"Name":"Movies/Entertainment","Mmean":-0.014634606991,"Hmean":-0.014634606991,"MPmean":102.721811764706,"HPmean":102.721811764706,"STOCKN":13},{"Name":"Multi-Sector_Companies","Mmean":-0.0075980001,"Hmean":-0.0075980001,"MPmean":119.685877647059,"HPmean":119.685877647059,"STOCKN":20},{"Name":"Natural_Gas_Distribution","Mmean":-0.0075262069,"Hmean":-0.0075262069,"MPmean":125.426125882353,"HPmean":125.426125882353,"STOCKN":65},{"Name":"Newspapers/Magazines","Mmean":-0.0206696555,"Hmean":-0.0206696555,"MPmean":94.2992082352941,"HPmean":94.2992082352941,"STOCKN":14},{"Name":"Office_Equipment/Supplies/Services","Mmean":-0.01316491516,"Hmean":-0.01316491516,"MPmean":125.524602352941,"HPmean":125.524602352941,"STOCKN":15},{"Name":"Oilfield_Services/Equipment","Mmean":-0.0347905372,"Hmean":-0.0347905372,"MPmean":100.286656470588,"HPmean":100.286656470588,"STOCKN":24},{"Name":"Oil_&_Gas_Production","Mmean":-0.03683619668,"Hmean":-0.03683619668,"MPmean":112.515074470588,"HPmean":112.515074470588,"STOCKN":194},{"Name":"Oil/Gas_Transmission","Mmean":0.00917046274,"Hmean":0.00917046274,"MPmean":133.337481176471,"HPmean":133.337481176471,"STOCKN":16},{"Name":"Oil_Refining/Marketing","Mmean":-0.02012922408,"Hmean":-0.02012922408,"MPmean":112.809137647059,"HPmean":112.809137647059,"STOCKN":25},{"Name":"Other_Consumer_Services","Mmean":-0.0223866794,"Hmean":-0.0223866794,"MPmean":91.4074976470588,"HPmean":91.4074976470588,"STOCKN":60},{"Name":"Other_Specialty_Stores","Mmean":-0.0104182971,"Hmean":-0.0104182971,"MPmean":109.734204705882,"HPmean":109.734204705882,"STOCKN":43},{"Name":"Packaged_Foods","Mmean":-0.00162486433,"Hmean":-0.00162486433,"MPmean":123.922094117647,"HPmean":123.922094117647,"STOCKN":39},{"Name":"Package_Goods/Cosmetics","Mmean":-0.00119464712,"Hmean":-0.00119464712,"MPmean":124.106998823529,"HPmean":124.106998823529,"STOCKN":17},{"Name":"Paper","Mmean":-0.0226697538,"Hmean":-0.0226697538,"MPmean":106.268657647059,"HPmean":106.268657647059,"STOCKN":13},{"Name":"Plastic_Products","Mmean":-0.02025278815,"Hmean":-0.02025278815,"MPmean":105.649232941176,"HPmean":105.649232941176,"STOCKN":11},{"Name":"Power_Generation","Mmean":0.01649545912,"Hmean":0.01649545912,"MPmean":137.024390588235,"HPmean":137.024390588235,"STOCKN":24},{"Name":"Precious_Metals","Mmean":0.0227368665,"Hmean":0.0227368665,"MPmean":156.248349411765,"HPmean":156.248349411765,"STOCKN":84},{"Name":"Professional_Services","Mmean":-0.02502752461,"Hmean":-0.02502752461,"MPmean":97.4443423529412,"HPmean":97.4443423529412,"STOCKN":41},{"Name":"Property-Casualty_Insurers","Mmean":-0.011288380755,"Hmean":-0.011288380755,"MPmean":103.760544705882,"HPmean":103.760544705882,"STOCKN":97},{"Name":"Publishing","Mmean":-0.01871243005,"Hmean":-0.01871243005,"MPmean":109.891678823529,"HPmean":109.891678823529,"STOCKN":11},{"Name":"Radio_And_Television_Broadcasting_And_Communications_Equipment","Mmean":-0.01208413256,"Hmean":-0.01208413256,"MPmean":111.039049411765,"HPmean":111.039049411765,"STOCKN":35},{"Name":"Railroads","Mmean":-0.0261952841,"Hmean":-0.0261952841,"MPmean":108.599805882353,"HPmean":108.599805882353,"STOCKN":16},{"Name":"Real_Estate","Mmean":-0.01788814594,"Hmean":-0.01788814594,"MPmean":107.224445882353,"HPmean":107.224445882353,"STOCKN":50},{"Name":"Real_Estate_Investment_Trusts","Mmean":-0.00237237838,"Hmean":-0.00237237838,"MPmean":120.697814117647,"HPmean":120.697814117647,"STOCKN":227},{"Name":"Recreational_Products/Toys","Mmean":0.00114853414,"Hmean":0.00114853414,"MPmean":116.539044705882,"HPmean":116.539044705882,"STOCKN":14},{"Name":"Restaurants","Mmean":-0.009256311632,"Hmean":-0.009256311632,"MPmean":102.41746,"HPmean":102.41746,"STOCKN":64},{"Name":"RETAIL:_Building_Materials","Mmean":-0.010821849805,"Hmean":-0.010821849805,"MPmean":121.224028235294,"HPmean":121.224028235294,"STOCKN":13},{"Name":"Savings_Institutions","Mmean":-0.01233060894,"Hmean":-0.01233060894,"MPmean":94.9842211764706,"HPmean":94.9842211764706,"STOCKN":78},{"Name":"Semiconductors","Mmean":-0.020054859536,"Hmean":-0.020054859536,"MPmean":101.890130588235,"HPmean":101.890130588235,"STOCKN":113},{"Name":"Services-Misc._Amusement_&_Recreation","Mmean":-0.00576567375,"Hmean":-0.00576567375,"MPmean":113.40388,"HPmean":113.40388,"STOCKN":19},{"Name":"Specialty_Chemicals","Mmean":-0.017115308,"Hmean":-0.017115308,"MPmean":107.391330588235,"HPmean":107.391330588235,"STOCKN":24},{"Name":"Specialty_Foods","Mmean":-0.004287788408,"Hmean":-0.004287788408,"MPmean":110.478684705882,"HPmean":110.478684705882,"STOCKN":10},{"Name":"Specialty_Insurers","Mmean":-0.0117839735,"Hmean":-0.0117839735,"MPmean":108.606330588235,"HPmean":108.606330588235,"STOCKN":18},{"Name":"Steel/Iron_Ore","Mmean":-0.00458061868,"Hmean":-0.00458061868,"MPmean":146.051164705882,"HPmean":146.051164705882,"STOCKN":32},{"Name":"Telecommunications_Equipment","Mmean":-0.014103916574,"Hmean":-0.014103916574,"MPmean":107.247296470588,"HPmean":107.247296470588,"STOCKN":149},{"Name":"Television_Services","Mmean":-0.01407829095,"Hmean":-0.01407829095,"MPmean":106.660203529412,"HPmean":106.660203529412,"STOCKN":36},{"Name":"Transportation_Services","Mmean":-0.023064984507,"Hmean":-0.023064984507,"MPmean":91.8904941176471,"HPmean":91.8904941176471,"STOCKN":15},{"Name":"Trucking_Freight/Courier_Services","Mmean":-0.01382021656,"Hmean":-0.01382021656,"MPmean":111.372661176471,"HPmean":111.372661176471,"STOCKN":18},{"Name":"Water_Supply","Mmean":0.00026522425,"Hmean":0.00026522425,"MPmean":129.575183529412,"HPmean":129.575183529412,"STOCKN":20}]
;


var PERIOD=   [{"PERIOD":"Period {2015-11-30} : {2016-04-22}"}] ;


    // register our custom symbols to nvd3
    // make sure your path is valid given any size because size scales if the chart scales.
    nv.utils.symbolMap.set('thin-x', function(size) {
        size = Math.sqrt(size);
        return 'M' + (-size/2) + ',' + (-size/2) +'l' + size + ',' + size +'m0,' + -(size) +'l' + (-size) + ',' + size;
    });

    // create the chart
    var chart;
    nv.addGraph(function() {
        chart = nv.models.scatterChart()
            .showDistX(true)
            .showDistY(true)
            .useVoronoi(true)
            .color(d3.scale.category10().range())
            .duration(300)
            .showLegend(false)
        ;

        chart.yAxis
    .axisLabel('Performance');
    chart.xAxis
    .axisLabel('Arth_Mean');
    
       chart.dispatch.on('renderEnd', function(){
           console.log('render complete');
        });

        chart.xAxis.tickFormat(d3.format('.02f'));
        chart.yAxis.tickFormat(d3.format('.02f'));
       chart.tooltipContent(function(key) {
       // return '<h2>' + key + '</h2>';
       return key;
       });

        d3.select('#test1 svg')
            .datum(randomData(datax.length))
            .call(chart);

        nv.utils.windowResize(chart.update);

        chart.dispatch.on('stateChange', function(e) { ('New State:', JSON.stringify(e)); });
        return chart;
    });

    function randomData(points) { //# groups,# points per group
        // smiley and thin-x are our custom symbols!
        var data = [];
        var shapes = ['square'];
        var     random = d3.random.normal();

        for (i = 0; i < points; i++) {
            data.push({ key:'<h2>' +  datax[i].Name + '</h2>' + '<p><small> ' + ' # of Stocks ' + datax[i].STOCKN+ ' </small> </p>'+ '<p><small>' + PERIOD[0].PERIOD + ' </small> </p>',values: []});
            data[i].values.push({x: datax[i].Mmean,y: datax[i].HPmean,size: Math.round(datax[i].MPmean * 100) / 100,shape: shapes[0 % shapes.length]});
        }

        return data;
    }


</script>
</body>
</html>
